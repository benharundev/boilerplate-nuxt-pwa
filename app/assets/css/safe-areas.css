/* ─────────────────────────────────────────────────────────────────────────────
   safe-areas.css — iOS/iPadOS Safe Area Inset Utilities
   
   Provides padding/margin utilities that respect the device notch,
   Dynamic Island, and home indicator using env(safe-area-inset-*).
   ───────────────────────────────────────────────────────────────────────────── */

:root {
    /* ── Token heights ────────────────────────────────────────────────────── */
    --nav-bar-height: 60px;
    /* iOS navigation bar */
    --tab-bar-height: 83px;
    /* iOS tab bar + home indicator */
    --toolbar-height: 44px;
    /* Standard toolbar */
    --status-bar-height: env(safe-area-inset-top, 0px);

    /* ── Computed safe offsets ──────────────────────────────────────────── */
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --safe-left: env(safe-area-inset-left, 0px);
    --safe-right: env(safe-area-inset-right, 0px);

    /* ── Content insets ─────────────────────────────────────────────────── */
    --content-top: calc(var(--nav-bar-height) + var(--safe-top));
    --content-bottom: calc(var(--tab-bar-height) + var(--safe-bottom));
}

/* ── Padding Safe Area Utilities ─────────────────────────────────────────── */
.pt-safe {
    padding-top: env(safe-area-inset-top, 0px);
}

.pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0px);
}

.pl-safe {
    padding-left: env(safe-area-inset-left, 0px);
}

.pr-safe {
    padding-right: env(safe-area-inset-right, 0px);
}

.px-safe {
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
}

.py-safe {
    padding-top: env(safe-area-inset-top, 0px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* ── Margin Safe Area Utilities ──────────────────────────────────────────── */
.mt-safe {
    margin-top: env(safe-area-inset-top, 0px);
}

.mb-safe {
    margin-bottom: env(safe-area-inset-bottom, 0px);
}

.ml-safe {
    margin-left: env(safe-area-inset-left, 0px);
}

.mr-safe {
    margin-right: env(safe-area-inset-right, 0px);
}

/* ── Compound safe + fixed offset ────────────────────────────────────────── */
.pt-nav {
    padding-top: var(--content-top);
}

.pb-tab {
    padding-bottom: var(--content-bottom);
}

/* ── Fixed positioning with safe areas ──────────────────────────────────── */
.fixed-top-safe {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    padding-top: var(--safe-top);
    z-index: 100;
}

.fixed-bottom-safe {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding-bottom: var(--safe-bottom);
    z-index: 100;
}

/* ── Scroll offset: accounts for nav + safe top ─────────────────────────── */
.scroll-content-area {
    overflow-y: auto;
    overscroll-behavior-y: contain;
    -webkit-overflow-scrolling: touch;
    height: 100%;
}

/* ── Scroll padding for anchor links ────────────────────────────────────── */
html {
    scroll-padding-top: var(--content-top);
}

/* ── PWA standalone status bar compensations ────────────────────────────── */
@media (display-mode: standalone) {
    .standalone-pt {
        padding-top: env(safe-area-inset-top, 20px);
    }
}